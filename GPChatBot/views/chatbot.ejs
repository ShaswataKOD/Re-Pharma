<h2>Chat with AI ðŸ¤–</h2>

<form id="chat-form">
    <input type="text" id="user-message" placeholder="Type your message..." required>
    <button type="submit">Send</button>
</form>

<div id="chat-response"></div>

<script>
    document.getElementById("chat-form").addEventListener("submit", async function(event) {
        event.preventDefault();

        let userMessage = document.getElementById("user-message").value;
        if (!userMessage.trim()) return;

        try {
            let response = await fetch("http://localhost:3000/chat", { // âœ… Use full backend URL
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ message: userMessage })
            });

            let data = await response.json();
            document.getElementById("chat-response").innerHTML += `<p><strong>AI:</strong> ${data.response}</p>`;

            document.getElementById("user-message").value = "";
        } catch (error) {
            console.error("Error:", error);
            document.getElementById("chat-response").innerHTML += `<p><strong>Error:</strong> Unable to reach chatbot</p>`;
        }
    });
</script>
